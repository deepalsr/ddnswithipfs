<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DDNS with Pinata IPFS</title>

  <!-- Prism.js for syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" />
</head>
<body>
  <h1>Decentralized DNS with Pinata IPFS</h1>

  <button id="connectWallet">Connect Wallet</button>
  <p id="walletAddress"></p>

  <section>
    <h2>Register Domain</h2>
    <input type="text" id="domainInput" placeholder="yourdomain.eth" />
    <input type="file" id="fileInput" />
    <button id="registerBtn">Upload & Register</button>
    <p id="registerStatus"></p>
  </section>

  <section>
    <h2>Resolve Domain</h2>
    <input type="text" id="resolveInput" placeholder="yourdomain.eth" />
    <button id="resolveBtn">Resolve</button>
    <p id="resolveStatus"></p>
    <iframe id="zipPreviewFrame" style="width:100%; height:600px; border:1px solid #ccc; margin-top:1rem"></iframe>
  </section>

  <section>
    <h2>TypeScript Source Viewer</h2>
    <select id="tsFileSelect" style="margin-bottom: 0.5rem;"></select>
    <pre style="background: #f4f4f4; padding: 1rem; overflow-x: auto;">
      <code id="tsViewer" class="language-typescript"></code>
    </pre>
  </section>

  <section>
    <h2>Check Ownership</h2>
    <input type="text" id="ownershipInput" placeholder="yourdomain.eth" />
    <button id="checkOwnershipBtn">Check Ownership</button>
    <p id="ownershipStatus"></p>
  </section>

  <section>
    <h2>All Domains</h2>
    <table border="1" width="100%">
      <thead><tr><th>Domain</th><th>CID</th></tr></thead>
      <tbody id="domainsTable"></tbody>
    </table>
  </section>

  <section>
    <h2>Update Domain CID</h2>
    <input type="text" id="updateDomainInput" placeholder="yourdomain.eth" />
    <input type="text" id="newCidInput" placeholder="New CID" />
    <button id="updateCidBtn">Update CID</button>
    <p id="updateCidStatus"></p>
  </section>

  <section>
    <h2>Transfer Domain Ownership</h2>
    <input type="text" id="transferDomainInput" placeholder="yourdomain.eth" />
    <input type="text" id="newOwnerInput" placeholder="New Owner Address" />
    <button id="transferDomainBtn">Transfer Ownership</button>
    <p id="transferDomainStatus"></p>
  </section>

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
  <script src="./libs/ethers.umd.min.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>
